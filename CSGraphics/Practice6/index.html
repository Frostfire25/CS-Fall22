<html>
<head>
    <title>Three.js Framework Example</title>
</head>
<body>

<canvas id="myCanvas"></canvas>

<script>

</script>

<script type="module">

/**
 * 1. What transformation(s) is/are represented by the following matrix?
    2.5 0.0 0.0 1.4 (3.5, 0, 0)
    0.0 2.0 0.0 0.5 (0, 1, 0)
    0.0 0.0 1.5 0.6 (0, 0, 0.9)
    0.0 0.0 0.0 1.0 (0, 0, 0)

*/

// Start of Javascript code
import * as THREE from "http://cs.merrimack.edu/~stuetzlec/three.js-master/build/three.module.js";
import { ConvexGeometry } from "http://cs.merrimack.edu/~stuetzlec/three.js-master/examples/jsm/geometries/ConvexGeometry.js";
import { DragControls } from 'http://cs.merrimack.edu/~stuetzlec/three.js-master/examples/jsm/controls/DragControls'
import { OrbitControls } from 'http://cs.merrimack.edu/~stuetzlec/three.js-master/examples/jsm/controls/OrbitControls'

// Creating Scene and Camera
var scene = new THREE.Scene();

var camera = new THREE.PerspectiveCamera( 35, window.innerWidth / window.innerHeight, .1, 3000 );
camera.position.z = 5;  // Try moving this around!
camera.lookAt( new THREE.Vector3(0.0,0.0,0.0));
scene.add( camera );

// Renderer 

var renderer = new THREE.WebGLRenderer({canvas: myCanvas, antialias: true});
//renderer.setClearColor( 0xffffff, 1 );
renderer.setClearColor( new THREE.Color( 'aqua' ), 1 );
// If you want this to span the window, instead of using the myCanvas object, use the window object
renderer.setPixelRatio(window.devicePixelRatio * 1.01);
renderer.setSize(window.innerWidth, window.innerHeight * 1);


var ballgeom = new THREE.SphereGeometry(0.5, 32, 16);
var ballmat = new THREE.MeshPhongMaterial( {color: new THREE.Color( 'orange' )} );
var ball = new THREE.Mesh( ballgeom, ballmat );
ball.position.set(-1, 0, 0);

var ballgeom2 = new THREE.SphereGeometry(0.5, 32, 16);
var ballmat2 = new THREE.MeshPhongMaterial( {color: new THREE.Color( 'yellow' )} );
var ball2 = new THREE.Mesh( ballgeom2, ballmat2 );
ball2.position.set(1, 0, 0);

// Creating the group for the balls
var group = new THREE.Group();
group.add( ball );
group.add( ball2 );

scene.add( group );

// Light
var light = new THREE.PointLight(0xffffff);
light.position.set(1,1,0);
scene.add(light);

// Orbit Controls
//const orbitControls = new OrbitControls( camera, renderer.domElement );
//orbitControls.update();

var rPressed = false;

document.addEventListener('keypress', keypressed );

var delta = 0.01;

var cameraX = 0;
var cameraY = 0;

function keypressed( event )
{
    const rotate_speed = 0.01;

    switch(event.key) {
        case "w": {
            cameraX -= rotate_speed;
        }; break;
        case "a": {
            cameraY -= rotate_speed;
        }; break;
        case "s": {
            cameraX += rotate_speed;
        }; break;
        case "d": {
            cameraY += rotate_speed;
        }; break;
        case "r": {
            rPressed = !rPressed
        }; break;

    }		
}

function animate() {

    if(rPressed) {
        group.rotation.y += 0.01;
    }

    requestAnimationFrame(animate);
    render();
}

function render() {

    camera.lookAt( cameraX , cameraY , 0 );

    renderer.render( scene , camera );
}

animate();

</script>

</body>
</html>